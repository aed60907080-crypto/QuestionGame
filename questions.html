<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ø±ÙØ© - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #f72585;
            --success: #4cc9f0;
            --locked: #64748b;
        }
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            font-family: 'Cairo', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }
        .quiz-card {
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            border: none;
        }
        .level-box {
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            background: #fff;
        }
        .level-box:hover:not(.locked) {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(67, 97, 238, 0.1);
        }
        .level-box.locked {
            background: #f1f5f9;
            cursor: not-allowed;
            opacity: 0.8;
        }
        .level-box.active {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }
        .lock-icon {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 1.5rem;
        }
        .option-btn {
            text-align: right; padding: 16px 20px; margin-bottom: 12px;
            border: 2px solid #f1f5f9; border-radius: 15px; background: #fff;
            transition: all 0.2s; width: 100%; font-weight: 600; font-size: 1.1rem;
        }
        .option-btn:hover:not([disabled]) { border-color: var(--primary); background: #f8fafc; }
        .option-btn.correct { background-color: #d1e7dd !important; border-color: #198754 !important; color: #0f5132; }
        .option-btn.wrong { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #842029; }
        
        #quiz-screen, #result-screen { display: none; }
        .timer-bar-container { height: 6px; background: #eee; width: 100%; position: relative; }
        #timer-progress { height: 100%; background: var(--accent); width: 100%; transition: width 1s linear; }
        
        .question-img-container {
            width: 100%; height: 200px; background: #f1f5f9;
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .question-img { width: 100%; height: 100%; object-fit: cover; }
    </style>
</head>
<body>

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">

            <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ -->
            <div id="start-screen" class="quiz-card p-4 p-md-5 animate-fade">
                <div class="text-center mb-4">
                    <h1 class="fw-bold text-primary">ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ø±ÙØ©</h1>
                    <p class="text-muted">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ</p>
                </div>

                <div class="row g-3 mb-4">
                    <div class="col-12">
                        <div class="level-box active" onclick="selectLevel(1)">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h4 class="fw-bold mb-1">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„: Ø§Ù„Ø¹Ø§Ø¯ÙŠ</h4>
                                    <p class="mb-0 text-muted small">30 Ø³Ø¤Ø§Ù„ â€¢ 10 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø©</p>
                                </div>
                                <span class="badge bg-primary rounded-pill">Ù…ÙØªÙˆØ­</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div id="level-2-box" class="level-box locked">
                            <div id="lock-status" class="lock-icon">ğŸ”’</div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h4 class="fw-bold mb-1">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h4>
                                    <p class="mb-0 text-muted small">30 Ø³Ø¤Ø§Ù„ â€¢ 15 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø©</p>
                                </div>
                                <span id="level-2-badge" class="badge bg-secondary rounded-pill">Ù…ØºÙ„Ù‚</span>
                            </div>
                            <div id="unlock-hint" class="mt-2 small text-danger fw-bold" style="display:none">
                                ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ 160 Ù†Ù‚Ø·Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ Ù„ÙØªØ­ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰!
                            </div>
                        </div>
                    </div>
                </div>

                <button id="start-btn" class="btn btn-primary btn-lg w-100 py-3 rounded-pill fw-bold shadow">
                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„
                </button>
                
                <div class="text-center mt-3">
                    <small class="text-muted">Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ø­Ù‚Ù‚ØªÙ‡Ø§: <span id="high-score">0</span></small>
                </div>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© -->
            <div id="quiz-screen" class="quiz-card animate-fade">
                <div class="p-3 bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center small">
                        <span id="question-counter">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 / 30</span>
                        <span id="level-indicator">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</span>
                        <span class="fw-bold">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score-counter">0</span></span>
                    </div>
                </div>
                <div class="timer-bar-container">
                    <div id="timer-progress"></div>
                </div>

                <div class="question-img-container">
                    <img id="question-image" src="" alt="" class="question-img">
                </div>

                <div class="p-4">
                    <h4 id="question-text" class="text-center fw-bold mb-4 lh-base">...</h4>
                    <div id="options-container" class="d-grid gap-2"></div>
                </div>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div id="result-screen" class="quiz-card p-5 text-center">
                <div class="mb-4">
                    <img id="result-img" src="https://img.icons8.com/fluency/96/trophy.png" width="80">
                </div>
                <h2 class="fw-bold mb-2">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠ!</h2>
                <div class="display-4 fw-bold text-primary mb-1" id="final-score">0</div>
                <p id="result-comment" class="text-muted mb-4"></p>

                <div class="row g-2 mb-4">
                    <div class="col-6">
                        <div class="bg-light p-3 rounded-3">
                            <small class="d-block text-muted">ØµØ­</small>
                            <span id="correct-count" class="h5 fw-bold text-success">0</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="bg-light p-3 rounded-3">
                            <small class="d-block text-muted">Ø®Ø·Ø£</small>
                            <span id="wrong-count" class="h5 fw-bold text-danger">0</span>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary btn-lg w-100 rounded-pill mb-2" onclick="location.reload()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            </div>

        </div>
    </div>
</div>

<script>
    // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ (10 Ù†Ù‚Ø§Ø·)
    const level1Questions = [
        { text: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø£Ù…ÙˆÙŠØ©ØŸ", options: ["Ø¯Ù…Ø´Ù‚", "Ø¨ØºØ¯Ø§Ø¯", "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "Ù…ÙƒØ©"], correct: 0, img: "damascus" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ù„ÙˆØ¨ Ø§Ù„Ø£Ø®Ø·Ø¨ÙˆØ·ØŸ", options: ["3", "1", "2", "4"], correct: 0, img: "ocean" },
        { text: "Ø£ØµÙ„Ø¨ Ù…Ø§Ø¯Ø© ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©ØŸ", options: ["Ø§Ù„Ø£Ù„Ù…Ø§Ø³", "Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„ÙÙˆÙ„Ø§Ø°", "Ø§Ù„Ø°Ù‡Ø¨"], correct: 0, img: "diamond" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„", "Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ø§Ù„Ø¯Ø§Ù†ÙˆØ¨", "Ø§Ù„Ù…ÙŠØ³ÙŠØ³ÙŠØ¨ÙŠ"], correct: 0, img: "river" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ØŸ", options: ["Ø·ÙˆÙƒÙŠÙˆ", "Ø³ÙˆÙ„", "Ø¨ÙƒÙŠÙ†", "ÙƒÙŠÙˆØªÙˆ"], correct: 0, img: "tokyo" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ", options: ["Ø§Ù„Ù…Ø±ÙŠØ®", "Ø§Ù„Ø²Ù‡Ø±Ø©", "Ø§Ù„Ù…Ø´ØªØ±ÙŠ", "Ø²Ø­Ù„"], correct: 0, img: "mars" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ù„ÙˆØ§Ù† Ù‚ÙˆØ³ Ù‚Ø²Ø­ØŸ", options: ["7", "6", "5", "8"], correct: 0, img: "rainbow" },
        { text: "Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§ØªØŸ", options: ["Ù…ØµØ±", "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†", "Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ", "Ø¨ÙŠØ±Ùˆ"], correct: 0, img: "pyramid" },
        { text: "Ù…Ø§ Ù‡Ùˆ ØµÙˆØª Ø§Ù„Ø£Ø³Ø¯ØŸ", options: ["Ø²Ø¦ÙŠØ±", "ØµÙ‡ÙŠÙ„", "Ù†Ø¨Ø§Ø­", "ÙØ­ÙŠØ­"], correct: 0, img: "lion" },
        { text: "Ù…Ù† Ù…Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ØŸ", options: ["Ø£Ø¯ÙŠØ³ÙˆÙ†", "ØªØ³Ù„Ø§", "Ù†ÙŠÙˆØªÙ†", "Ø¬Ø§Ù„ÙŠÙ„ÙŠÙˆ"], correct: 0, img: "lightbulb" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø¹Ø¯Ù† Ø§Ù„Ø³Ø§Ø¦Ù„ØŸ", options: ["Ø§Ù„Ø²Ø¦Ø¨Ù‚", "Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„Ù†Ø­Ø§Ø³", "Ø§Ù„Ù‚ØµØ¯ÙŠØ±"], correct: 0, img: "mercury" },
        { text: "Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ù‡ÙŠØŸ", options: ["Ø§Ù„Ø±ÙŠØ§Ø¶", "Ø¬Ø¯Ø©", "Ù…ÙƒØ©", "Ø§Ù„Ø¯Ù…Ø§Ù…"], correct: 0, img: "riyadh" },
        { text: "Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["Ø§Ù„Ù‡Ø§Ø¯Ø¦", "Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ", "Ø§Ù„Ù‡Ù†Ø¯ÙŠ", "Ø§Ù„Ù…ØªØ¬Ù…Ø¯"], correct: 0, img: "ocean" },
        { text: "Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø³ÙÙŠÙ†Ø© Ø§Ù„ØµØ­Ø±Ø§Ø¡ØŸ", options: ["Ø§Ù„Ø¬Ù…Ù„", "Ø§Ù„Ø­ØµØ§Ù†", "Ø§Ù„ÙÙŠÙ„", "Ø§Ù„Ø²Ø±Ø§ÙØ©"], correct: 0, img: "camel" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø§Ø±Ø§ØªØŸ", options: ["7", "6", "5", "8"], correct: 0, img: "world" },
        { text: "Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø£Ø±Ø¯Ù†ØŸ", options: ["Ø¹Ù…Ø§Ù†", "Ø§Ù„Ø¹Ù‚Ø¨Ø©", "Ø§Ø±Ø¨Ø¯", "Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡"], correct: 0, img: "amman" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ù„ØºØ© Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ØŸ", options: ["Ø§Ù„Ø¨Ø±ØªØºØ§Ù„ÙŠØ©", "Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©", "Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©"], correct: 0, img: "brazil" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø¹Ù…Ù„Ø© Ø§Ù„ÙƒÙˆÙŠØªØŸ", options: ["Ø¯ÙŠÙ†Ø§Ø±", "Ø±ÙŠØ§Ù„", "Ø¯Ø±Ù‡Ù…", "Ø¯ÙˆÙ„Ø§Ø±"], correct: 0, img: "kuwait" },
        { text: "Ø¹Ø¶Ùˆ Ø§Ù„ØªÙ†ÙØ³ ÙÙŠ Ø§Ù„Ø£Ø³Ù…Ø§ÙƒØŸ", options: ["Ø§Ù„Ø®ÙŠØ§Ø´ÙŠÙ…", "Ø§Ù„Ø±Ø¦ØªÙŠÙ†", "Ø§Ù„Ø¬Ù„Ø¯", "Ø§Ù„Ø²Ø¹Ø§Ù†Ù"], correct: 0, img: "fish" },
        { text: "Ù…Ø§ Ù‡ÙŠ ÙØ§ÙƒÙ‡Ø© Ø§Ù„ØµÙŠÙ Ø§Ù„Ù…Ù„ÙƒÙŠØ©ØŸ", options: ["Ø§Ù„Ø¨Ø·ÙŠØ®", "Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„", "Ø§Ù„ØªÙØ§Ø­", "Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø©"], correct: 0, img: "fruit" },
        { text: "Ù…Ù† Ù‡Ùˆ ÙÙŠÙ„Ø³ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ØŸ", options: ["Ø§Ù„ÙƒÙ†Ø¯ÙŠ", "Ø§Ù„ÙØ§Ø±Ø§Ø¨ÙŠ", "Ø§Ø¨Ù† Ø±Ø´Ø¯", "Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§"], correct: 0, img: "philosopher" },
        { text: "Ø£ÙŠÙ† ÙŠÙˆØ¬Ø¯ Ø¨Ø±Ø¬ Ø¥ÙŠÙÙ„ØŸ", options: ["ÙØ±Ù†Ø³Ø§", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§"], correct: 0, img: "paris" },
        { text: "Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠØŸ", options: ["Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„ØºØ²Ø§Ù„", "Ø§Ù„Ù†Ù…ÙˆØ±"], correct: 0, img: "cheetah" },
        { text: "Ù…Ø§ Ù‡Ùˆ ØºØ§Ø² Ø§Ù„Ø­ÙŠØ§Ø©ØŸ", options: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†", "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†"], correct: 0, img: "oxygen" },
        { text: "Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ", options: ["Ø§Ù„Ø±Ø¨Ø§Ø·", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "ÙØ§Ø³", "Ù…Ø±Ø§ÙƒØ´"], correct: 0, img: "rabat" },
        { text: "Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ", options: ["Ø§Ù„Ù…Ø´ØªØ±ÙŠ", "Ø²Ø­Ù„", "Ø§Ù„Ø£Ø±Ø¶", "Ù†Ø¨ØªÙˆÙ†"], correct: 0, img: "jupiter" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø³Ù†Ø§Ù† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ", options: ["32", "28", "30", "34"], correct: 0, img: "teeth" },
        { text: "Ø£ÙŠÙ† ØªÙ‚Ø¹ Ù‚Ù†Ø§Ø© Ø§Ù„Ø³ÙˆÙŠØ³ØŸ", options: ["Ù…ØµØ±", "Ø§Ù„Ø£Ø±Ø¯Ù†", "Ø¨Ù†Ù…Ø§", "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©"], correct: 0, img: "canal" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø·Ø§Ø¦Ø± Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ·ÙŠØ±ØŸ", options: ["Ø§Ù„Ù†Ø¹Ø§Ù…Ø©", "Ø§Ù„ØµÙ‚Ø±", "Ø§Ù„Ø¹ØµÙÙˆØ±", "Ø§Ù„Ø­Ù…Ø§Ù…"], correct: 0, img: "ostrich" },
        { text: "Ø£ÙˆÙ„ Ù…Ù† ØµØ¹Ø¯ Ù„Ù„Ù‚Ù…Ø±ØŸ", options: ["Ù†ÙŠÙ„ Ø£Ø±Ù…Ø³ØªØ±ÙˆÙ†Ø¬", "ÙŠÙˆØ±ÙŠ Ø¬Ø§Ø¬Ø§Ø±ÙŠÙ†", "Ø¨Ø² Ø£Ù„Ø¯Ø±ÙŠÙ†", "Ø¥ÙŠÙ„ÙˆÙ† Ù…Ø§Ø³Ùƒ"], correct: 0, img: "moon" }
    ];

    // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (15 Ù†Ù‚Ø·Ø©)
    const level2Questions = [
        { text: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ 'Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙ„Ø§Ù„ Ø§Ù„Ø³Ø¨Ø¹Ø©'ØŸ", options: ["Ø±ÙˆÙ…Ø§", "Ø¨Ø§Ø±ÙŠØ³", "Ù„Ù†Ø¯Ù†", "Ø§Ø«ÙŠÙ†Ø§"], correct: 0, img: "rome" },
        { text: "Ù…Ù† Ù‡Ùˆ Ù…ÙƒØªØ´Ù Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¯Ù…ÙˆÙŠØ© Ø§Ù„ØµØºØ±Ù‰ØŸ", options: ["Ø§Ø¨Ù† Ø§Ù„Ù†ÙÙŠØ³", "ÙˆÙŠÙ„ÙŠØ§Ù… Ù‡Ø§Ø±ÙÙŠ", "Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§", "Ø§Ù„Ø±Ø§Ø²ÙŠ"], correct: 0, img: "anatomy" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ±Ù…Ø² Ù„Ù‡ Ø¨Ø§Ù„Ø±Ù…Ø² (Au)ØŸ", options: ["Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ù†Ø­Ø§Ø³", "Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…"], correct: 0, img: "chemistry" },
        { text: "ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© ÙˆÙ‚Ø¹Øª Ù…Ø¹Ø±ÙƒØ© Ø­Ø·ÙŠÙ†ØŸ", options: ["1187", "1192", "1204", "1144"], correct: 0, img: "history" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø£Ø¹Ù…Ù‚ Ù†Ù‚Ø·Ø© ÙÙŠ Ù…Ø­ÙŠØ·Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["Ø®Ù†Ø¯Ù‚ Ù…Ø§Ø±ÙŠØ§Ù†Ø§", "Ø®Ù†Ø¯Ù‚ ØªÙˆÙ†Ø¬Ø§", "Ø®Ù†Ø¯Ù‚ Ø¨ÙˆØ±ØªÙˆØ±ÙŠÙƒÙˆ", "Ø®Ù†Ø¯Ù‚ Ø¬Ø§ÙˆØ©"], correct: 0, img: "deep-sea" },
        { text: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù Ø±ÙˆØ§ÙŠØ© 'Ø§Ù„Ø¨Ø¤Ø³Ø§Ø¡'ØŸ", options: ["ÙÙŠÙƒØªÙˆØ± Ù‡ÙˆØ¬Ùˆ", "ØªØ´Ø§Ø±Ù„Ø² Ø¯ÙŠÙƒÙ†Ø²", "Ù„ÙŠÙˆ ØªÙˆÙ„Ø³ØªÙˆÙŠ", "Ø¯ÙˆØ³ØªÙˆÙŠÙØ³ÙƒÙŠ"], correct: 0, img: "literature" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø°ÙŠ ÙŠØ´ÙƒÙ„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¬ÙˆÙŠØŸ", options: ["Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ø£Ø±Ø¬ÙˆÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"], correct: 0, img: "atmosphere" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø¸Ø§Ù… ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ", options: ["206", "210", "195", "220"], correct: 0, img: "bones" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø±Ø³ Ø§Ù„Ø²Ù„Ø§Ø²Ù„ØŸ", options: ["Ø§Ù„Ø³ÙŠØ²Ù…ÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø§Ù„Ø¬ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø§Ù„Ù…Ù†Ø§Ø®", "Ø§Ù„Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§"], correct: 0, img: "science" },
        { text: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø°ÙŠ ÙØªØ­ Ø¨Ù„Ø§Ø¯ Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ØŸ", options: ["Ø·Ø§Ø±Ù‚ Ø¨Ù† Ø²ÙŠØ§Ø¯", "Ø¹Ù‚Ø¨Ø© Ø¨Ù† Ù†Ø§ÙØ¹", "Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø§Ù„ÙˆÙ„ÙŠØ¯", "ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†"], correct: 0, img: "conquest" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø°ÙŠ ÙŠÙ…ØªÙ„Ùƒ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø£Ù‚Ù…Ø§Ø±ØŸ", options: ["Ø²Ø­Ù„", "Ø§Ù„Ù…Ø´ØªØ±ÙŠ", "Ø£ÙˆØ±Ø§Ù†ÙˆØ³", "Ù†Ø¨ØªÙˆÙ†"], correct: 0, img: "saturn" },
        { text: "Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø´Ù„Ø§Ù„Ø§Øª Ù†ÙŠØ§Ø¬Ø±Ø§ØŸ", options: ["Ø¨ÙŠÙ† ÙƒÙ†Ø¯Ø§ ÙˆØ£Ù…Ø±ÙŠÙƒØ§", "Ø¨ÙŠÙ† Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ ÙˆØ§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", "ÙÙŠ Ø²Ø§Ù…Ø¨ÙŠØ§", "ÙÙŠ Ø£ÙŠØ³Ù„Ù†Ø¯Ø§"], correct: 0, img: "waterfall" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ ØªÙ…ØªÙ„Ùƒ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¬Ø²Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["Ø§Ù„Ø³ÙˆÙŠØ¯", "Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§", "Ø§Ù„ÙÙ„Ø¨ÙŠÙ†", "ÙƒÙ†Ø¯Ø§"], correct: 0, img: "islands" },
        { text: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø±Ø³Ø§Ù… ØµØ§Ø­Ø¨ Ù„ÙˆØ­Ø© 'Ø§Ù„Ø¬ÙŠØ±Ù†ÙŠÙƒØ§'ØŸ", options: ["Ø¨Ø§Ø¨Ù„Ùˆ Ø¨ÙŠÙƒØ§Ø³Ùˆ", "ÙØ§Ù† Ø¬ÙˆØ®", "Ù„ÙŠÙˆÙ†Ø§Ø±Ø¯Ùˆ Ø¯Ø§ÙÙ†Ø´ÙŠ", "Ø³Ù„ÙØ§Ø¯ÙˆØ± Ø¯Ø§Ù„ÙŠ"], correct: 0, img: "art" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØ·ÙŠØ¹ Ø±Ø¤ÙŠØ© Ø§Ù„Ø£Ø´Ø¹Ø© ØªØ­Øª Ø§Ù„Ø­Ù…Ø±Ø§Ø¡ØŸ", options: ["Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†", "Ø§Ù„Ø¨ÙˆÙ…Ø©", "Ø§Ù„Ù‚Ø·", "Ø§Ù„Ø®ÙØ§Ø´"], correct: 0, img: "vision" },
        { text: "ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªÙ‚Ø¹ ØµØ­Ø±Ø§Ø¡ Ø¬ÙˆØ¨ÙŠØŸ", options: ["Ø¢Ø³ÙŠØ§", "Ø£ÙØ±ÙŠÙ‚ÙŠØ§", "Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§", "Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"], correct: 0, img: "desert" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù„Ù…Ù„Ø­ Ø§Ù„Ø·Ø¹Ø§Ù…ØŸ", options: ["ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ…", "Ù†ØªØ±Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…", "ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù„Ø³ÙŠÙˆÙ…", "ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…"], correct: 0, img: "salt" },
        { text: "ÙƒÙ… ÙŠØ¨Ù„Øº Ø·ÙˆÙ„ Ø³ÙˆØ± Ø§Ù„ØµÙŠÙ† Ø§Ù„Ø¹Ø¸ÙŠÙ… ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŸ", options: ["21,196 ÙƒÙ…", "10,500 ÙƒÙ…", "5,000 ÙƒÙ…", "15,000 ÙƒÙ…"], correct: 0, img: "china-wall" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ Ø§Ø³ØªØ¶Ø§ÙØª Ø£ÙˆÙ„ ÙƒØ£Ø³ Ø¹Ø§Ù„Ù… Ù„ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ", options: ["Ø§Ù„Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ", "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "ÙØ±Ù†Ø³Ø§", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§"], correct: 0, img: "football" },
        { text: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø°ÙŠ ÙˆØ¶Ø¹ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ", options: ["Ø£Ù„Ø¨Ø±Øª Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†", "Ø¥Ø³Ø­Ø§Ù‚ Ù†ÙŠÙˆØªÙ†", "Ø³ØªÙŠÙÙ† Ù‡ÙˆÙƒÙŠÙ†Ø¬", "Ù…Ø§ÙƒØ³ Ø¨Ù„Ø§Ù†Ùƒ"], correct: 0, img: "einstein" },
        { text: "Ù…Ø§ Ù‡ÙŠ Ø£Ù‚ØµØ± Ù…Ø¯Ø© Ø­Ù…Ù„ Ù„Ø­ÙŠÙˆØ§Ù† Ø«Ø¯ÙŠÙŠØŸ", options: ["Ø§Ù„ÙØ£Ø± Ø§Ù„Ø¬Ø±Ø§Ø¨ÙŠ (12 ÙŠÙˆÙ…Ø§Ù‹)", "Ø§Ù„Ø£Ø±Ù†Ø¨", "Ø§Ù„Ù‡Ø§Ù…Ø³ØªØ±", "Ø§Ù„Ù‚Ø·"], correct: 0, img: "animals" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø°ÙŠ ÙŠØ³Ù…Ù‰ 'Ø¨Ø­Ø± Ø§Ù„Ù‚Ù„Ø²Ù…' Ù‚Ø¯ÙŠÙ…Ø§Ù‹ØŸ", options: ["Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±", "Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ù…ØªÙˆØ³Ø·", "Ø¨Ø­Ø± Ø§Ù„Ø¹Ø±Ø¨", "Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¹Ø±Ø¨ÙŠ"], correct: 0, img: "history-sea" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ø°ÙŠ ÙŠØ³ØªÙ‡Ù„Ùƒ Ø£ÙƒØ¨Ø± Ù‚Ø¯Ø± Ù…Ù† Ø§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ø¬Ø³Ù…ØŸ", options: ["Ø§Ù„Ø¯Ù…Ø§Øº", "Ø§Ù„Ù‚Ù„Ø¨", "Ø§Ù„ÙƒØ¨Ø¯", "Ø§Ù„Ø¹Ø¶Ù„Ø§Øª"], correct: 0, img: "brain" },
        { text: "Ù…Ù† Ù‡ÙŠ Ø£ÙˆÙ„ Ø§Ù…Ø±Ø£Ø© ÙØ§Ø²Øª Ø¨Ø¬Ø§Ø¦Ø²Ø© Ù†ÙˆØ¨Ù„ØŸ", options: ["Ù…Ø§Ø±ÙŠ ÙƒÙˆØ±ÙŠ", "Ø£Ù…ÙŠÙ„ÙŠØ§ Ø¥ÙŠØ±Ù‡Ø§Ø±Øª", "Ø§Ù„Ø£Ù… ØªÙŠØ±ÙŠØ²Ø§", "Ù…Ù„Ø§Ù„Ø§ ÙŠÙˆØ³ÙØ²ÙŠ"], correct: 0, img: "nobel" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø£Ù†Ø¯Ø± ÙØµÙŠÙ„Ø© Ø¯Ù… ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["Rh-null", "O negative", "AB positive", "B negative"], correct: 0, img: "blood" },
        { text: "ÙƒÙ… Ø¹Ø¯Ø¯ ØµÙ…Ø§Ù…Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ ÙÙŠ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ", options: ["4", "2", "3", "5"], correct: 0, img: "heart" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ù„Ù…ÙŠ Ù„Ù„Ù…Ø§Ø¡ØŸ", options: ["Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ", "Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø­Ù…Ø¶ Ø§Ù„ÙƒØ¨Ø±ÙŠØªÙŠÙƒ", "ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"], correct: 0, img: "water" },
        { text: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆÙ„ Ù„ÙŠØ³Øª Ø¹Ø¶ÙˆØ§Ù‹ ÙÙŠ Ø§Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØŸ", options: ["Ø³ÙˆÙŠØ³Ø±Ø§", "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†", "Ø¨ÙˆÙ„Ù†Ø¯Ø§", "Ø§Ù„Ø¨Ø±ØªØºØ§Ù„"], correct: 0, img: "europe" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ù†ÙØ³Ù‡ Ø¨Ø§ØªØ¬Ø§Ù‡ Ø¹Ù‚Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©ØŸ", options: ["Ø§Ù„Ø²Ù‡Ø±Ø©", "Ø§Ù„Ù…Ø±ÙŠØ®", "Ø²Ø­Ù„", "Ù†Ø¨ØªÙˆÙ†"], correct: 0, img: "venus" },
        { text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØµØ¯Ø± Ø£ÙŠ ØµÙˆØªØŸ", options: ["Ø§Ù„Ø²Ø±Ø§ÙØ©", "Ø§Ù„Ø­Ù…Ø§Ø± Ø§Ù„ÙˆØ­Ø´ÙŠ", "Ø§Ù„ÙƒÙ†ØºØ±", "Ø§Ù„Ù†Ø¹Ø§Ù…Ø©"], correct: 0, img: "giraffe" }
    ];

    let currentLevel = 1;
    let selectedQuestions = [];
    let currentIdx = 0;
    let score = 0;
    let corrects = 0;
    let wrongs = 0;
    let timer;
    let timeLeft = 60;
    let canSelect = true;

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const highScore = parseInt(localStorage.getItem('quiz_high_score_advanced')) || 0;
    document.getElementById('high-score').textContent = highScore;
    checkUnlockStatus();

    function checkUnlockStatus() {
        if (highScore >= 160) {
            const l2Box = document.getElementById('level-2-box');
            l2Box.classList.remove('locked');
            l2Box.setAttribute('onclick', 'selectLevel(2)');
            document.getElementById('lock-status').textContent = 'ğŸ”“';
            document.getElementById('level-2-badge').className = 'badge bg-success rounded-pill';
            document.getElementById('level-2-badge').textContent = 'Ù…ÙØªÙˆØ­';
            document.getElementById('unlock-hint').style.display = 'none';
        } else {
            document.getElementById('unlock-hint').style.display = 'block';
        }
    }

    window.selectLevel = (lvl) => {
        if (lvl === 2 && highScore < 160) return;
        currentLevel = lvl;
        document.querySelectorAll('.level-box').forEach(b => b.classList.remove('active'));
        if (lvl === 1) {
            document.querySelector('.level-box:first-child').classList.add('active');
            document.getElementById('start-btn').textContent = 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„';
        } else {
            document.getElementById('level-2-box').classList.add('active');
            document.getElementById('start-btn').textContent = 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ';
        }
    };

    document.getElementById('start-btn').onclick = () => {
        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        selectedQuestions = currentLevel === 1 
            ? [...level1Questions].sort(() => Math.random() - 0.5) 
            : [...level2Questions].sort(() => Math.random() - 0.5);
            
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'block';
        document.getElementById('level-indicator').textContent = currentLevel === 1 ? 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ (10Ù†)' : 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ (15Ù†)';
        
        loadQuestion();
    };

    function loadQuestion() {
        canSelect = true;
        timeLeft = 60;
        const q = selectedQuestions[currentIdx];
        
        document.getElementById('question-counter').textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentIdx + 1} / 30`;
        document.getElementById('question-text').textContent = q.text;
        document.getElementById('question-image').src = `https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&q=60&w=400&q=${q.img}`;
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        const opts = q.options.map((o, i) => ({t: o, id: i}));
        opts.sort(() => Math.random() - 0.5);

        opts.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn animate-fade';
            btn.textContent = opt.t;
            btn.onclick = () => checkAnswer(opt.id === q.correct, btn);
            container.appendChild(btn);
        });

        startTimer();
    }

    function startTimer() {
        clearInterval(timer);
        const bar = document.getElementById('timer-progress');
        bar.style.width = '100%';
        timer = setInterval(() => {
            timeLeft--;
            bar.style.width = (timeLeft / 60 * 100) + '%';
            if (timeLeft <= 0) {
                clearInterval(timer);
                checkAnswer(false, null);
            }
        }, 1000);
    }

    function checkAnswer(isCorrect, btn) {
        if (!canSelect) return;
        canSelect = false;
        clearInterval(timer);

        const pointPerQ = currentLevel === 1 ? 10 : 15;

        if (isCorrect) {
            if(btn) btn.classList.add('correct');
            score += pointPerQ;
            corrects++;
        } else {
            if(btn) btn.classList.add('wrong');
            wrongs++;
            const correctText = selectedQuestions[currentIdx].options[selectedQuestions[currentIdx].correct];
            document.querySelectorAll('.option-btn').forEach(b => {
                if(b.textContent === correctText) b.classList.add('correct');
            });
        }

        document.getElementById('score-counter').textContent = score;

        setTimeout(() => {
            currentIdx++;
            if (currentIdx < 30) loadQuestion();
            else finishQuiz();
        }, 1200);
    }

    function finishQuiz() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').textContent = score;
        document.getElementById('correct-count').textContent = corrects;
        document.getElementById('wrong-count').textContent = wrongs;

        // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (ÙÙŠ Ø£ÙŠ Ù…Ø³ØªÙˆÙ‰ Ù„ÙØªØ­ Ø§Ù„Ù‚ÙÙ„)
        if (score > highScore) {
            localStorage.setItem('quiz_high_score_advanced', score);
        }

        if (currentLevel === 1 && score >= 160) {
            document.getElementById('result-comment').innerHTML = " ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ÙØªØ­Øª <b>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ</b>";
        } else if (score >= 350) {
            document.getElementById('result-comment').textContent = "Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©! ğŸ†";
        } else {
            document.getElementById('result-comment').textContent = "Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… ğŸ“š";
        }
    }
</script>

</body>
</html>
